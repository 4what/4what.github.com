<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title></title>
<meta name="author" content="4what" />

<!--<meta name="viewport" content="width=device-width" />-->
<meta name="viewport" content="width=750" />

<script type="text/javascript" src="js/jquery/jquery-1.8.3.min.js"></script>

<link rel="stylesheet" type="text/css" href="js/jquery/plugin/fullpage/jquery.fullPage.css" />

<script type="text/javascript" src="js/jquery/plugin/fullpage/jquery.fullPage.min.js"></script>

<link rel="stylesheet" type="text/css" href="css/style.css" />

<script type="text/javascript">
// viewport
//alert(window.devicePixelRatio);
/*
if (window.devicePixelRatio === 2) { // for retina
	document.writeln('<meta name="viewport" content="width=750" />');
}
*/

$(window).load(function() {
	//alert(document.body.scrollWidth + "*" + document.body.scrollHeight)

	document.addEventListener("touchstart", function() {
		// bgm
		document.getElementById("bgm").play(); // for iOS
	});

	// fullpage
	$("#pages").fullpage({
		afterLoad: function(anchorLink, index) {
			var txt = $("div.section").eq(index - 1).find(".txt");

			switch (index) {
/*
				case 6:
				case 7:
					txt.fadeIn().animate({
						left: 0
					}, 200);
					break;
*/
				case 8:
					txt.eq(0).fadeIn(function() {
						txt.eq(1).fadeIn().animate({
							width: 318
						});
					});
					break;
				case 12:
					txt.fadeIn(1000, function() {
						document.addEventListener("touchstart", function() {
							window.location.href = "map.html";
						});
					});
					break;
				default:
					txt.fadeIn();
					break;
			}
		}
	});

});
</script>
</head>

<body>

<div id="pages">
	<div class="section" id="page-1">
		<!--<div class="slider"><img src="images/slider-1.gif" /></div>-->
	</div>
	<div class="section" id="page-2">
		<img src="images/txt-2.png" alt="" class="txt" style="right: 10px; top: 80px;" />
	</div>
	<div class="section" id="page-3">
		<img src="images/txt-3.png" alt="" class="txt" style="left: 30px; top: 190px;" />
	</div>
	<div class="section" id="page-4">
	</div>
	<div class="section" id="page-5">
	</div>
	<div class="section" id="page-6">
		<!--<img src="images/txt-6.png" alt="" class="txt" style="left: -419px; top: 0;" />-->
	</div>
	<div class="section" id="page-7">
		<!--<img src="images/txt-7.png" alt="" class="txt" style="bottom: 0; left: -419px;" />-->
	</div>
	<div class="section" id="page-8">
		<img src="images/txt-8-1.png" alt="" class="txt" style="left: 169px; top: 130px;" />
		<img src="images/txt-8-2.png" alt="" class="txt" style="left: 185px; top: 385px; width: 0;" />
	</div>
	<div class="section" id="page-9">
	</div>
	<div class="section" id="page-10">
	</div>
	<div class="section" id="page-11">
	</div>
	<div class="section" id="page-12">
		<img src="images/txt-12.png" alt="" class="txt" style="left: 169px; top: 365px;" />
	</div>
</div>

<audio src="bgm.mp3" autoplay="autoplay" loop="loop" id="bgm"></audio>


<script type="text/javascript" src="js/WeixinApi.js?v=4.3"></script>
<script type="text/javascript">
// 微信分享的数据
var wxData = {
	"appId": "", // 服务号可以填写appId
	"imgUrl": "http://www1.pconline.com.cn/zt/20150209/ls/images/weixin.jpg",
	"link": window.location.href,
	"desc": "李斯琴&陶英婚礼请柬",
	"title": ""
};

// 分享的回调
var wxCallbacks = {
	// 收藏操作是否触发回调，默认是开启的
	favorite: false,

	// 分享操作开始之前
	ready: function() {
		// 你可以在这里对分享的数据进行重组
		//alert("准备分享");
	},
	// 分享被用户自动取消
	cancel: function(resp) {
		// 你可以在你的页面上给用户一个小Tip，为什么要取消呢？
		//alert("分享被取消，msg=" + resp.err_msg);
	},
	// 分享失败了
	fail: function(resp) {
		// 分享失败了，是不是可以告诉用户：不要紧，可能是网络问题，一会儿再试试？
		//alert("分享失败，msg=" + resp.err_msg);
	},
	// 分享成功
	confirm: function(resp) {
		// 分享成功了，我们是不是可以做一些分享统计呢？
		//alert("分享成功，msg=" + resp.err_msg);
	},
	// 整个分享过程结束
	all: function(resp, shareTo) {
		// 如果你做的是一个鼓励用户进行分享的产品，在这里是不是可以给用户一些反馈了？
		//alert("分享" + (shareTo ? "到" + shareTo : "") + "结束，msg=" + resp.err_msg);
	}
};

WeixinApi.share(wxData, wxCallbacks);
</script>
</body>
</html>
